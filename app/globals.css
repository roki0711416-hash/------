@import "tailwindcss";

html[data-theme="light"] {
  /* Design system tokens (light) */
  --color-cta: #FF7A00;
  --color-cta-hover: #FF8F26;
  --color-cta-rgb: 255 122 0;
  --color-main: #0F172A;
  --color-sub: #10B981;
  --color-danger: #EF4444;
  --bg: #F8FAFC;
  --card: #FFFFFF;
  --border: #E5E7EB;
  --text-rgb: 15 23 42;
  color-scheme: light;
}

html[data-theme="dark"] {
  /* Temporarily keep the site palette consistent in production (same as light). */
  --color-cta: #FF7A00;
  --color-cta-hover: #FF8F26;
  --color-cta-rgb: 255 122 0;
  --color-main: #0F172A;
  --color-sub: #10B981;
  --color-danger: #EF4444;
  --bg: #F8FAFC;
  --card: #FFFFFF;
  --border: #E5E7EB;
  --text-rgb: 15 23 42;
  color-scheme: light;
}

/* Fallback (before JS runs): treat as system */
:root {
  --color-cta: #FF7A00;
  --color-cta-hover: #FF8F26;
  --color-cta-rgb: 255 122 0;
  --color-main: #0F172A;
  --color-sub: #10B981;
  --color-danger: #EF4444;
  --bg: #F8FAFC;
  --card: #FFFFFF;
  --border: #E5E7EB;
  --text-rgb: 15 23 42;
  color-scheme: light;
}

@media (prefers-color-scheme: dark) {
  :root {
    /* Keep the palette consistent regardless of system theme. */
    --bg: #F8FAFC;
    --card: #FFFFFF;
    --border: #E5E7EB;
    --text-rgb: 15 23 42;
    color-scheme: light;
  }
}

body {
  min-height: 100vh;
  background-color: var(--bg);
  color: rgb(var(--text-rgb));
  position: relative;
  isolation: isolate;
}

/* Global background image (all pages) */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -2;
  background-image: url("/slot-bg.jpg");
  background-attachment: fixed;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  pointer-events: none;
}

/* Dark overlay for readability (behind content) */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  background: rgb(var(--text-rgb) / 0.55);
  pointer-events: none;
}

@supports (-webkit-touch-callout: none) {
  body::before {
    background-attachment: scroll;
  }
}

/* Map existing Tailwind utility usage to theme tokens (no UI/layout changes) */
.bg-neutral-100 {
  background-color: var(--bg);
}

.bg-white,
.bg-neutral-50 {
  background-color: var(--card);
}

.border-neutral-200 {
  border-color: var(--border);
}

/* Primary CTA buttons: map existing bg-neutral-900 usage to CTA tokens */
.bg-neutral-900 {
  background-color: var(--color-cta);
}

.bg-neutral-900:hover {
  background-color: var(--color-cta-hover);
}

.bg-neutral-900:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgb(var(--color-cta-rgb) / 0.35);
}

/* Danger (use sparingly) */
.text-red-600 {
  color: var(--color-danger);
}

.text-neutral-900 {
  color: rgb(var(--text-rgb));
}

.text-neutral-800 {
  color: rgb(var(--text-rgb) / 0.92);
}

.text-neutral-700 {
  color: rgb(var(--text-rgb) / 0.84);
}

.text-neutral-600 {
  color: rgb(var(--text-rgb) / 0.76);
}

.text-neutral-500 {
  color: rgb(var(--text-rgb) / 0.68);
}
